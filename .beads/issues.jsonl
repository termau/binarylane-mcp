{"id":"bl-mcp-0uj","title":"Add image slug format documentation","description":"Document BinaryLane image slug format clearly. IMPORTANT: BinaryLane slugs do NOT include architecture suffixes. Correct: ubuntu-24.04, debian-12. Incorrect: ubuntu-24.04-x64. Add to README with examples.","status":"closed","priority":2,"issue_type":"task","owner":"adam@mammoth.com.au","created_at":"2026-02-10T18:41:11.057856+10:00","created_by":"Adam","updated_at":"2026-02-11T05:58:19.965013+10:00","closed_at":"2026-02-11T05:58:19.965013+10:00","close_reason":"Closed","comments":[{"id":16,"issue_id":"bl-mcp-0uj","author":"Adam","text":"INVESTIGATION: README mentions image slugs but doesn't document format. The bug fix commit 7e7b6d6 changed examples from ubuntu-24.04-x64 to ubuntu-24.04, confirming BinaryLane doesn't use architecture suffixes. Need to add clear documentation in Image Management section (after line 105) explaining correct format.","created_at":"2026-02-10T19:46:41Z"}]}
{"id":"bl-mcp-0yi","title":"Move inline schemas to schemas.ts","description":"Move all inline validation schemas to schemas.ts for better organization. Files: src/handlers.ts:100-104, 198, 209. Define all validation schemas in schemas.ts and import them. Improves code organization and reusability.","status":"closed","priority":2,"issue_type":"task","owner":"adam@mammoth.com.au","created_at":"2026-02-10T18:40:31.830404+10:00","created_by":"Adam","updated_at":"2026-02-11T07:17:41.273186+10:00","closed_at":"2026-02-11T07:17:41.273186+10:00","close_reason":"Closed","comments":[{"id":20,"issue_id":"bl-mcp-0yi","author":"Adam","text":"INVESTIGATION: Found 3 inline schemas in handlers.ts:\n1. Lines 103-106: get_server_action - z.object with server_id and action_id\n2. Line 201: delete_image - z.object with image_id  \n3. Line 212: get_image_download - z.object with image_id (duplicate of #2)\n\nNeed to:\n1. Create GetServerActionSchema in schemas.ts (server_id + action_id)\n2. Use existing ImageIdSchema for lines 201 and 212 (already defined in schemas.ts)\n3. Update handlers to import and use these schemas","created_at":"2026-02-10T20:48:26Z"}]}
{"id":"bl-mcp-1kl","title":"Add repository metadata to package.json","description":"Add repository metadata to package.json: repository (type: git, url: https://github.com/termau/binarylane-mcp.git), homepage (https://github.com/termau/binarylane-mcp#readme), bugs (url: https://github.com/termau/binarylane-mcp/issues)","status":"closed","priority":2,"issue_type":"task","owner":"adam@mammoth.com.au","created_at":"2026-02-10T18:41:32.30136+10:00","created_by":"Adam","updated_at":"2026-02-11T05:58:20.089308+10:00","closed_at":"2026-02-11T05:58:20.089308+10:00","close_reason":"Closed","comments":[{"id":18,"issue_id":"bl-mcp-1kl","author":"Adam","text":"INVESTIGATION: package.json (lines 1-38) missing standard repository fields. Need to add after line 23 (before author): repository object with type: git and url: https://github.com/termau/binarylane-mcp.git, homepage: https://github.com/termau/binarylane-mcp#readme, bugs object with url: https://github.com/termau/binarylane-mcp/issues","created_at":"2026-02-10T19:46:55Z"}]}
{"id":"bl-mcp-3g3","title":"Add JSDoc comments to api-client methods","description":"Add comprehensive JSDoc comments to all api-client.ts methods. Include @param, @returns, @throws tags. Document parameter types, return values, and possible exceptions. Improves IDE autocomplete and developer experience.","status":"open","priority":2,"issue_type":"task","owner":"adam@mammoth.com.au","created_at":"2026-02-10T18:41:46.054918+10:00","created_by":"Adam","updated_at":"2026-02-10T18:41:46.054918+10:00"}
{"id":"bl-mcp-3us","title":"Add missing hostname field to HealthCheck","description":"Add hostname field to HealthCheck interface and schema for HTTP/HTTPS health checks. Files: src/api-client.ts:856-864, src/schemas.ts:491-526. Add optional hostname?: string field to specify Host header for health checks.","status":"closed","priority":2,"issue_type":"task","owner":"adam@mammoth.com.au","created_at":"2026-02-10T18:38:01.848291+10:00","created_by":"Adam","updated_at":"2026-02-11T06:01:20.459017+10:00","closed_at":"2026-02-11T06:01:20.459017+10:00","close_reason":"Closed","comments":[{"id":1,"issue_id":"bl-mcp-3us","author":"Adam","text":"INVESTIGATION: Need to add hostname field to HealthCheck interface and schema. Located at src/api-client.ts:856-864 (interface) and src/schemas.ts:491-526 (schema). Field should be optional string to specify Host header for HTTP/HTTPS health checks. This is crucial for virtual hosting scenarios.","created_at":"2026-02-10T08:58:25Z"},{"id":2,"issue_id":"bl-mcp-3us","author":"Adam","text":"COMPLETE: Added hostname field to HealthCheck interface and schema\nWorktree: .worktrees/bd-bl-mcp-3us\nFiles: src/api-client.ts, src/schemas.ts\nBuild: pass\nCommit: 019e85f - Add hostname field to HealthCheck for virtual host support","created_at":"2026-02-10T09:01:05Z"},{"id":3,"issue_id":"bl-mcp-3us","author":"Adam","text":"PR created: https://github.com/termau/binarylane-mcp/pull/1","created_at":"2026-02-10T09:02:17Z"}]}
{"id":"bl-mcp-58b","title":"Add examples and workflows section to README","description":"Add Common Workflows section with practical examples: Creating a Web Server, Setting Up a Load-Balanced Application, Backing Up and Restoring a Server. Include step-by-step instructions with actual MCP tool calls.","status":"closed","priority":2,"issue_type":"task","owner":"adam@mammoth.com.au","created_at":"2026-02-10T18:41:04.029904+10:00","created_by":"Adam","updated_at":"2026-02-11T05:58:19.911319+10:00","closed_at":"2026-02-11T05:58:19.911319+10:00","close_reason":"Closed","comments":[{"id":15,"issue_id":"bl-mcp-58b","author":"Adam","text":"INVESTIGATION: README has no examples section. Need to add after Available Tools section (around line 179) or before Development section. Should include: 1) Creating a Web Server (with port_blocking disabled), 2) Setting Up Load-Balanced Application (using existing LB notes at lines 152-173), 3) Backing Up and Restoring Server. Include actual MCP tool call examples.","created_at":"2026-02-10T19:46:33Z"}]}
{"id":"bl-mcp-70f","title":"Validate API token format on startup","description":"Add API token validation when MCP server starts. Check token is not empty, warn if unusually short (less than 20 chars). Provide helpful error message if token is missing or invalid format. Fail fast with clear error.","status":"open","priority":2,"issue_type":"task","owner":"adam@mammoth.com.au","created_at":"2026-02-10T18:41:52.876747+10:00","created_by":"Adam","updated_at":"2026-02-10T18:41:52.876747+10:00"}
{"id":"bl-mcp-7df","title":"Create CHANGELOG.md file","description":"Create CHANGELOG.md to document version history, track breaking changes, and note recent fixes (DELETE body bug, load balancer region removal, etc.). Use Keep a Changelog format. Start with current version and recent changes.","status":"open","priority":2,"issue_type":"task","owner":"adam@mammoth.com.au","created_at":"2026-02-10T18:41:39.385122+10:00","created_by":"Adam","updated_at":"2026-02-10T18:41:39.385122+10:00"}
{"id":"bl-mcp-83o","title":"Refactor server_action handler to remove 20+ if statements","description":"Replace 20+ if statements in server_action handler with object spreading. File: src/handlers.ts:67-91. Fix features → enabled_features mapping bug. Use object spreading pattern for cleaner, more maintainable code.","status":"closed","priority":2,"issue_type":"task","owner":"adam@mammoth.com.au","created_at":"2026-02-10T18:39:18.7094+10:00","created_by":"Adam","updated_at":"2026-02-10T19:36:21.978346+10:00","closed_at":"2026-02-10T19:36:21.978349+10:00","comments":[{"id":12,"issue_id":"bl-mcp-83o","author":"Adam","text":"DUPLICATE: This task was already completed as part of bl-mcp-ws2 (PR #2). The server_action handler refactoring removed all 20+ if statements, replaced with object spreading, and fixed the features mapping bug. Closing as duplicate.","created_at":"2026-02-10T09:36:31Z"}]}
{"id":"bl-mcp-8p9","title":"Add rate limiting and retry logic","description":"Implement exponential backoff for 429 (rate limit) responses. Add request queuing with concurrency limits. Prevents API throttling and improves reliability. Include configurable max retries and backoff multiplier.","status":"open","priority":2,"issue_type":"task","owner":"adam@mammoth.com.au","created_at":"2026-02-10T18:40:37.52573+10:00","created_by":"Adam","updated_at":"2026-02-10T18:40:37.52573+10:00"}
{"id":"bl-mcp-8y7","title":"Extract magic numbers to named constants","description":"Replace magic numbers with named constants for better code clarity. File: src/schemas.ts:14. Create const MAX_INT32 = 2147483647 and similar constants. Improves code readability and maintainability.","status":"closed","priority":2,"issue_type":"task","owner":"adam@mammoth.com.au","created_at":"2026-02-10T18:40:24.898107+10:00","created_by":"Adam","updated_at":"2026-02-11T07:17:41.365967+10:00","closed_at":"2026-02-11T07:17:41.365967+10:00","close_reason":"Closed","comments":[{"id":21,"issue_id":"bl-mcp-8y7","author":"Adam","text":"INVESTIGATION: Found multiple magic numbers in schemas.ts:\n- 2147483647 (line 14) - MAX_INT32\n- 65535 (lines 87, 366, 372, 476, 483, 499) - MAX_PORT\n- 200 (lines 20, 244, 458, 648) - MAX_PER_PAGE\n- 250 (lines 69, 282, 303, 320, 418, 441, 535, 570) - MAX_NAME_LENGTH\n- 1000 (line 286) - MAX_DESCRIPTION_LENGTH  \n- 3600 (line 377) - MIN_TTL_SECONDS (1 hour)\n- 86400 (line 378) - MAX_TTL_SECONDS (24 hours)\n- 255 (line 389) - MAX_PRIORITY\n- 300 (lines 510, 516) - MAX_HEALTH_CHECK_INTERVAL\n- 10 (lines 522, 528) - MAX_HEALTH_CHECK_THRESHOLD\n\nWill create constants section at top of schemas.ts with these named constants.","created_at":"2026-02-10T20:57:55Z"}]}
{"id":"bl-mcp-aip","title":"Document Node.js prerequisites","description":"Add Prerequisites section to README specifying: Node.js 18.0.0 or higher required, npm or yarn package manager needed. Include installation instructions or links to official Node.js installation guides.","status":"closed","priority":2,"issue_type":"task","owner":"adam@mammoth.com.au","created_at":"2026-02-10T18:41:17.10302+10:00","created_by":"Adam","updated_at":"2026-02-11T05:58:20.022671+10:00","closed_at":"2026-02-11T05:58:20.022671+10:00","close_reason":"Closed","comments":[{"id":17,"issue_id":"bl-mcp-aip","author":"Adam","text":"INVESTIGATION: package.json specifies node \u003e=18.0.0 in engines field (line 36), but README lacks prerequisites section. Need to add Prerequisites section before Installation (before line 13) documenting: Node.js 18+ requirement, npm/yarn needed, links to official installation guides.","created_at":"2026-02-10T19:46:47Z"}]}
{"id":"bl-mcp-cph","title":"Standardize tool response format across handlers","description":"Create consistent response shape across all handlers. Use { success: true, data: T } for data responses or { success: true, message: string } for action confirmations. Improves API consistency and client error handling.","status":"closed","priority":2,"issue_type":"task","owner":"adam@mammoth.com.au","created_at":"2026-02-10T18:40:18.266912+10:00","created_by":"Adam","updated_at":"2026-02-11T07:17:41.169435+10:00","closed_at":"2026-02-11T07:17:41.169435+10:00","close_reason":"Closed","comments":[{"id":19,"issue_id":"bl-mcp-cph","author":"Adam","text":"INVESTIGATION: Found current response patterns:\n1. Data fetching handlers (getAccount, listServers, etc) return raw client data directly\n2. Action handlers (delete, update) use formatSuccess() helper returning { success: true, message: string }\n3. Need to standardize ALL responses to:\n   - { success: true, data: T } for data responses\n   - { success: true, message: string } for actions\n4. Already have formatSuccess() helper, need to add formatData() helper\n5. Will update all ~70+ handlers in handlers.ts to use consistent format","created_at":"2026-02-10T20:41:33Z"}]}
{"id":"bl-mcp-dxt","title":"Add input sanitization for hostnames and SSH keys","description":"Add regex validation for server names and SSH public keys. Files: src/schemas.ts:69-70, 87-88. Server names: regex /^[a-zA-Z0-9][a-zA-Z0-9-]{0,248}[a-zA-Z0-9]$/. SSH keys: regex /^(ssh-rsa|ssh-ed25519|ecdsa-sha2-nistp256) [A-Za-z0-9+/]+=*/. Prevents injection attacks and invalid input.","status":"closed","priority":2,"issue_type":"task","owner":"adam@mammoth.com.au","created_at":"2026-02-10T18:38:58.673529+10:00","created_by":"Adam","updated_at":"2026-02-11T06:01:20.291006+10:00","closed_at":"2026-02-11T06:01:20.291006+10:00","close_reason":"Closed","comments":[{"id":7,"issue_id":"bl-mcp-dxt","author":"Adam","text":"INVESTIGATION: Need to add regex validation for server names (src/schemas.ts:67-70) and SSH public keys (src/schemas.ts:304-306). Server name should validate format: start/end with alphanumeric, allow hyphens in middle, max 250 chars. SSH key should validate format: starts with ssh-rsa, ssh-ed25519, or ecdsa-sha2-nistp256, followed by base64 content.","created_at":"2026-02-10T09:29:19Z"},{"id":8,"issue_id":"bl-mcp-dxt","author":"Adam","text":"COMPLETE: Added regex validation for server names and SSH keys\nWorktree: .worktrees/bd-bl-mcp-dxt\nPR: https://github.com/termau/binarylane-mcp/pull/3","created_at":"2026-02-10T09:30:52Z"}]}
{"id":"bl-mcp-iyc","title":"Improve error handling with ApiError class","description":"Create ApiError class with statusCode property for better error handling. Files: src/api-client.ts, src/index.ts:76-96. Replace string matching with status code checks. Include status code, message, and optional details in error objects.","status":"closed","priority":2,"issue_type":"task","owner":"adam@mammoth.com.au","created_at":"2026-02-10T18:39:11.221841+10:00","created_by":"Adam","updated_at":"2026-02-11T06:01:20.125493+10:00","closed_at":"2026-02-11T06:01:20.125493+10:00","close_reason":"Closed","comments":[{"id":10,"issue_id":"bl-mcp-iyc","author":"Adam","text":"INVESTIGATION: Current error handling uses fragile string matching in src/index.ts:76-96. Errors are thrown as plain Error in src/api-client.ts:90. Need to create ApiError class that preserves statusCode, then check error.statusCode instead of message.includes('401').","created_at":"2026-02-10T09:33:18Z"},{"id":11,"issue_id":"bl-mcp-iyc","author":"Adam","text":"COMPLETE: Implemented ApiError class with statusCode property\nWorktree: .worktrees/bd-bl-mcp-iyc  \nPR: https://github.com/termau/binarylane-mcp/pull/5\nCommit: 69b8a03","created_at":"2026-02-10T09:35:45Z"}]}
{"id":"bl-mcp-lxe","title":"Add troubleshooting section to README","description":"Add comprehensive troubleshooting section covering: Authentication Errors, Server Creation Fails, DNS Updates Not Working, Load Balancer Health Checks Failing, Firewall Rules Break Server Connectivity. Include common solutions and debugging tips.","status":"closed","priority":2,"issue_type":"task","owner":"adam@mammoth.com.au","created_at":"2026-02-10T18:40:57.74328+10:00","created_by":"Adam","updated_at":"2026-02-11T05:58:19.856317+10:00","closed_at":"2026-02-11T05:58:19.856317+10:00","close_reason":"Closed","comments":[{"id":14,"issue_id":"bl-mcp-lxe","author":"Adam","text":"INVESTIGATION: README currently has no troubleshooting section. Need to add after Development section (line 235). Should cover: Authentication Errors (API token issues), Server Creation Fails (common causes), DNS Updates Not Working, Load Balancer Health Checks Failing (missing loopback VIP is documented at line 172), Firewall Rules Break Server Connectivity (stateless firewall issues documented at line 203-224).","created_at":"2026-02-10T19:46:25Z"}]}
{"id":"bl-mcp-mdk","title":"Add audit logging for destructive operations","description":"Log all destructive operations (delete_server, delete_domain, delete_load_balancer, etc.) for audit trail. Include timestamp, operation, and parameters (excluding tokens). Helps with debugging and compliance.","status":"closed","priority":2,"issue_type":"task","owner":"adam@mammoth.com.au","created_at":"2026-02-10T18:40:43.446443+10:00","created_by":"Adam","updated_at":"2026-02-11T07:17:41.45882+10:00","closed_at":"2026-02-11T07:17:41.45882+10:00","close_reason":"Closed","comments":[{"id":22,"issue_id":"bl-mcp-mdk","author":"Adam","text":"INVESTIGATION: Found 9 destructive operations in handlers.ts needing audit logging:\n1. delete_server (line 61) - params: server_id, reason\n2. delete_image (line 200) - params: image_id\n3. delete_ssh_key (line 240) - params: key_id\n4. delete_domain (line 265) - params: domain_name\n5. delete_domain_record (line 291) - params: domain_name, record_id\n6. delete_vpc (line 339) - params: vpc_id\n7. delete_load_balancer (line 374) - params: load_balancer_id\n8. remove_servers_from_load_balancer (line 391) - params: load_balancer_id, server_ids\n9. remove_forwarding_rules (line 403) - params: load_balancer_id, forwarding_rules\n\nCurrent logging: Only console.error in index.ts, console.warn in api-client.ts\nPlan: Add audit logging function and call it before each destructive operation","created_at":"2026-02-10T21:08:41Z"}]}
{"id":"bl-mcp-mx1","title":"Add null check to query parameter handling","description":"Add null check when building query parameters to prevent 'null' string values in API calls. File: src/api-client.ts:49-60. Change to: if (value \\!== undefined \u0026\u0026 value \\!== null) { params.append(key, String(value)); }","status":"closed","priority":2,"issue_type":"task","owner":"adam@mammoth.com.au","created_at":"2026-02-10T18:39:04.914186+10:00","created_by":"Adam","updated_at":"2026-02-11T06:01:20.20836+10:00","closed_at":"2026-02-11T06:01:20.20836+10:00","close_reason":"Closed","comments":[{"id":9,"issue_id":"bl-mcp-mx1","author":"Adam","text":"COMPLETE: Added null check to prevent 'null' strings in query parameters\nWorktree: .worktrees/bd-bl-mcp-mx1\nPR: https://github.com/termau/binarylane-mcp/pull/4\nCommit: 2f8a40d","created_at":"2026-02-10T09:32:38Z"}]}
{"id":"bl-mcp-r44","title":"Add logging for empty response bodies","description":"Add warning logs when API returns empty response bodies. File: src/api-client.ts:78-86. Log: console.warn(`Empty response for ${method} ${path} (status ${response.status})`). Return empty object {} as T when text is empty.","status":"closed","priority":2,"issue_type":"task","owner":"adam@mammoth.com.au","created_at":"2026-02-10T18:40:01.94506+10:00","created_by":"Adam","updated_at":"2026-02-11T06:01:20.045976+10:00","closed_at":"2026-02-11T06:01:20.045976+10:00","close_reason":"Closed","comments":[{"id":13,"issue_id":"bl-mcp-r44","author":"Adam","text":"COMPLETE: Added warning log for empty response bodies\nWorktree: .worktrees/bd-bl-mcp-r44\nPR: https://github.com/termau/binarylane-mcp/pull/6\nCommit: a47594b","created_at":"2026-02-10T09:40:21Z"}]}
{"id":"bl-mcp-ws2","title":"Replace ServerAction index signature with discriminated union","description":"Replace the overly permissive [key: string]: unknown index signature with a proper discriminated union for all action types. File: src/api-client.ts:650-653. This improves type safety and prevents runtime errors.","status":"closed","priority":2,"issue_type":"task","owner":"adam@mammoth.com.au","created_at":"2026-02-10T18:38:33.555472+10:00","created_by":"Adam","updated_at":"2026-02-11T06:01:20.371324+10:00","closed_at":"2026-02-11T06:01:20.371324+10:00","close_reason":"Closed","comments":[{"id":4,"issue_id":"bl-mcp-ws2","author":"Adam","text":"INVESTIGATION: ServerAction interface at src/api-client.ts:650-653 has overly permissive index signature. Handler at src/handlers.ts:72-89 has 20+ if statements mapping parameters. Need to create discriminated union based on ServerActionType enum (src/schemas.ts:117-140). Each action type needs specific properties: rebuild needs image/size, backup needs backup_type/label, network needs ipv4_address/reverse_name, etc. Also fix line 84: features → enabled_features mapping bug.","created_at":"2026-02-10T09:09:59Z"},{"id":5,"issue_id":"bl-mcp-ws2","author":"Adam","text":"COMPLETE: Replaced ServerAction index signature with discriminated union\nWorktree: .worktrees/bd-bl-mcp-ws2\nFiles: src/api-client.ts (added 155 lines), src/handlers.ts (refactored)\nBuild: pass\nBug fixed: features → enabled_features mapping corrected","created_at":"2026-02-10T09:14:42Z"},{"id":6,"issue_id":"bl-mcp-ws2","author":"Adam","text":"PR created: https://github.com/termau/binarylane-mcp/pull/2\nCommit: 9d88b42 - Replace ServerAction index signature with discriminated union","created_at":"2026-02-10T09:19:07Z"}]}
